import React from 'react';
import {  useSelector } from "react-redux"; //useDispatch,
 import { MenuItems, Items } from "utils/data";
import { useStateValue } from "context/state-provider";

const useHome = () => { 
  const userLogin = useSelector((state) => state.userLogin);
  const { userInfo } = userLogin;
  
  const [isMainData, setMainData] = React.useState(
     Items.filter((element) => element.itemId == "buger01")
  );

   const [{ cart, total }, dispatch] = useStateValue();
   const [totalPrice, setTotalPrice] = React.useState(0);

  React.useEffect(() => {
    const menuLi = document.querySelectorAll("#menu li");

    function setMenuActive() {
      menuCard.forEach((n) =>{
        n.classList.remove("active");
        this.classList.add("active");
      });
    }

    menuLi.forEach((n) => n.addEventListener("click", setMenuActive));

    // menu Card active class changer
    const menuCard = document
    .querySelector(".rowContainer")
    .querySelectorAll(".rowMenuCard");

    function setMenuCardActive() {
      menuCard.forEach((n) =>{
      n.classList.remove("active");
      this.classList.add("active");
    });
    }

    menuCard.forEach((n) => n.addEventListener("click", setMenuCardActive));
  }, [isMainData, cart, total, totalPrice]); //isMainData, cart, total,

  const setData = (itemId) => {
    setMainData(Items.filter((element) => element.itemId == itemId));
  };

 return{  
  userInfo,
  MenuItems,
  isMainData,
  cart,
  total,
  setData,
};  
}
export default useHome;